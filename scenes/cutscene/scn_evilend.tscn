[gd_scene load_steps=7 format=3 uid="uid://dr8u35o2ygx4e"]

[ext_resource type="Script" path="res://scenes/cutscene/scr_evilend.gd" id="1_h2ccp"]
[ext_resource type="Script" path="res://code/scr_textbox.gd" id="2_bqngp"]
[ext_resource type="Texture2D" uid="uid://f73get17mu6y" path="res://sprites/cutscene/evilend/directionless.png" id="3_5w75a"]
[ext_resource type="Texture2D" uid="uid://10tupsx2ss52" path="res://sprites/cutscene/evilend/violence.png" id="4_df1x5"]

[sub_resource type="Shader" id="Shader_34xtc"]
code = "shader_type canvas_item;

void vertex() {
	// Called for every vertex the material is visible on.
}

void fragment() {
	float red = texture(TEXTURE, vec2(UV.x - cos(UV.y) * 0.05, UV.y - sin(TIME - UV.y * 20.0) * 0.05)).r;
	COLOR = vec4(COLOR.r + red, COLOR.g, COLOR.b, COLOR.a);
}

//void light() {
	// Called for every pixel for every light affecting the CanvasItem.
	// Uncomment to replace the default light processing function with this one.
//}
"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_2prwr"]
shader = SubResource("Shader_34xtc")

[node name="Evilend" type="Node2D"]
script = ExtResource("1_h2ccp")

[node name="Darkness" type="ColorRect" parent="."]
offset_left = -3.0
offset_top = -4.0
offset_right = 164.0
offset_bottom = 124.0
color = Color(0, 0, 0, 1)

[node name="Textbox" type="RichTextLabel" parent="."]
offset_left = 8.0
offset_top = 82.0
offset_right = 152.0
offset_bottom = 120.0
bbcode_enabled = true
script = ExtResource("2_bqngp")
metadata/_edit_use_anchors_ = true

[node name="CenterContainer" type="CenterContainer" parent="."]
offset_right = 160.0
offset_bottom = 80.0

[node name="Images" type="Control" parent="CenterContainer"]
clip_children = 2
clip_contents = true
custom_minimum_size = Vector2(130, 48)
layout_mode = 2

[node name="Directionless" type="TextureRect" parent="CenterContainer/Images"]
visible = false
layout_mode = 2
offset_right = 130.0
offset_bottom = 48.0
texture = ExtResource("3_5w75a")

[node name="Violence" type="TextureRect" parent="CenterContainer/Images"]
visible = false
material = SubResource("ShaderMaterial_2prwr")
layout_mode = 2
offset_right = 130.0
offset_bottom = 48.0
texture = ExtResource("4_df1x5")
