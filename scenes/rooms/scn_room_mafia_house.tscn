[gd_scene load_steps=12 format=3 uid="uid://dyjcd2w81thvw"]

[ext_resource type="Script" path="res://scenes/scr_room.gd" id="1_xrpuv"]
[ext_resource type="PackedScene" uid="uid://7v6bq0p8ea7t" path="res://scenes/scn_interior_tiles.tscn" id="2_ysg07"]
[ext_resource type="PackedScene" uid="uid://dx3mkrjbqpref" path="res://scenes/characters/overworld/scn_greg_overworld.tscn" id="3_k4axw"]
[ext_resource type="Texture2D" uid="uid://cjp5vxlhgnvpf" path="res://sprites/world/building/spr_decor.png" id="4_3esa6"]
[ext_resource type="PackedScene" uid="uid://xk5mtrl26xyo" path="res://scenes/characters/overworld/scn_overworld_character.tscn" id="5_0srwq"]
[ext_resource type="PackedScene" uid="uid://bbsyh4m7x7uhg" path="res://scenes/tech/scn_room_gate.tscn" id="5_ce38q"]
[ext_resource type="SpriteFrames" uid="uid://b0t8ga0kjvhvl" path="res://resources/characters/sfr_mafia_1.tres" id="6_xapwm"]
[ext_resource type="SpriteFrames" uid="uid://kykioywl8mt7" path="res://resources/characters/sfr_mafia_2.tres" id="7_fxb1w"]
[ext_resource type="Script" path="res://scenes/rooms/scr_mafia_discovery.gd" id="9_fieed"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_57vqo"]
size = Vector2(8, 5)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_girn8"]
size = Vector2(111, 83)

[node name="MafiaHouse" type="Node2D"]
y_sort_enabled = true
script = ExtResource("1_xrpuv")

[node name="InteriorTiles" parent="." instance=ExtResource("2_ysg07")]
layer_0/tile_data = PackedInt32Array(65535, 196609, 4, 65534, 131073, 5, 65533, 196609, 5, 131068, 131073, 5, 262140, 196609, 4, 262141, 196609, 4, 196606, 131073, 5, 196607, 131073, 4, 65536, 196609, 4, 131070, 196609, 5, 196605, 196609, 4, 262142, 131073, 5, 131072, 131073, 5, 65537, 131073, 4, 131071, 131073, 4, 131069, 131073, 4, 196604, 196609, 4, 196612, 131073, 5, 131076, 196609, 4, 65540, 196609, 4, 4, 131073, 4, -65532, 196609, 5, -131068, 196609, 4, 196611, 131073, 4, 131075, 196609, 5, 65539, 196609, 5, 3, 196609, 4, -65533, 131073, 4, -131069, 196609, 5, 196610, 131073, 4, 131074, 196609, 4, 65538, 131073, 5, 2, 196609, 4, -65534, 131073, 4, -131070, 196609, 5, 196609, 196609, 4, 131073, 196609, 4, 1, 196609, 5, -65535, 131073, 5, -131071, 131073, 5, 196608, 131073, 5, 0, 196609, 5, -65536, 196609, 5, -131072, 196609, 4, 262143, 196609, 5, -1, 131073, 4, -65537, 196609, 4, -2, 131073, 5, -65538, 196609, 4, -3, 196609, 4, -65539, 131073, 5, 65532, 131073, 4, -4, 131073, 4, -65540, 131073, 4, -196606, 196609, 5, -65531, 131073, 4, -131067, 196609, 5, -131066, 196609, 4, -196602, 196609, 5, -196603, 131073, 5, -262139, 131073, 5, -262140, 196609, 5, -262141, 131073, 5, -196605, 131073, 4, -262142, 196609, 4, -196604, 131073, 4, -262138, 196609, 5, -65530, 131073, 4, 6, 196609, 4, 5, 131073, 4, -262143, 720897, 9, -262144, 589825, 9, -196609, 589825, 9, -196610, 589825, 9, -196611, 589825, 9, -196612, 589825, 9, -327679, 720897, 8, -393215, 393217, 8, -458751, 589825, 8, -524287, 589825, 8, -589823, 589825, 8, -655359, 589825, 8, -720895, 589825, 8, -786431, 589825, 8, -851967, 655361, 6, -327680, 589825, 8, -393216, 589825, 8, -458752, 589825, 8, -524288, 589825, 8, -589824, 589825, 8, -655360, 589825, 8, -720896, 589825, 8, -786432, 589825, 8, -851968, 655361, 6, -262145, 589825, 8, -327681, 589825, 8, -393217, 589825, 8, -458753, 589825, 8, -524289, 589825, 8, -589825, 589825, 8, -655361, 589825, 8, -720897, 589825, 8, -786433, 655361, 6, -262146, 589825, 8, -327682, 589825, 8, -393218, 589825, 8, -458754, 589825, 8, -524290, 589825, 8, -589826, 589825, 8, -655362, 589825, 8, -720898, 589825, 8, -786434, 655361, 6, -262147, 589825, 8, -327683, 589825, 8, -393219, 589825, 8, -458755, 589825, 8, -524291, 589825, 8, -589827, 589825, 8, -655363, 589825, 8, -720899, 589825, 8, -786435, 655361, 6, -262148, 589825, 8, -327684, 589825, 8, -393220, 589825, 8, -458756, 589825, 8, -524292, 327681, 7, -589828, 524289, 7, -655364, 524289, 7, -720900, 524289, 7, -786436, 524289, 6, -458746, 589825, 8, -524282, 589825, 8, -589818, 589825, 8, -655354, 589825, 8, -720890, 589825, 8, -786426, 589825, 8, -851962, 589825, 8, -917498, 655361, 6, -458747, 589825, 8, -524283, 589825, 8, -589819, 589825, 8, -655355, 589825, 8, -720891, 589825, 8, -786427, 589825, 8, -851963, 589825, 8, -917499, 655361, 6, -458748, 589825, 8, -524284, 589825, 8, -589820, 589825, 8, -655356, 589825, 8, -720892, 589825, 8, -786428, 589825, 8, -851964, 589825, 8, -917500, 655361, 6, -458749, 589825, 8, -524285, 589825, 8, -589821, 589825, 8, -655357, 589825, 8, -720893, 589825, 8, -786429, 589825, 8, -851965, 589825, 8, -917501, 655361, 6, -458750, 589825, 8, -524286, 589825, 8, -589822, 589825, 8, -655358, 589825, 8, -720894, 589825, 8, -786430, 589825, 8, -851966, 327681, 7, -917502, 524289, 6, 458762, 589825, 9, 393226, 589825, 8, 327690, 589825, 8, 262154, 589825, 8, 196618, 589825, 8, 131082, 589825, 8, 65546, 589825, 8, 10, 589825, 8, -65526, 589825, 8, -131062, 589825, 8, -196598, 589825, 8, -262134, 589825, 8, -327670, 589825, 8, -393206, 589825, 8, -458742, 589825, 8, -524278, 589825, 8, 458761, 589825, 9, 393225, 589825, 8, 327689, 589825, 8, 262153, 589825, 8, 196617, 589825, 8, 131081, 589825, 8, 65545, 589825, 8, 9, 589825, 8, -65527, 589825, 8, -131063, 589825, 8, -196599, 589825, 8, -262135, 589825, 8, -327671, 589825, 8, -393207, 589825, 8, -458743, 589825, 8, -524279, 589825, 8, 458760, 589825, 9, 393224, 589825, 8, 327688, 589825, 8, 262152, 589825, 8, 196616, 589825, 8, 131080, 589825, 8, 65544, 327681, 7, 8, 524289, 7, -65528, 524289, 7, -131064, 524289, 7, -196600, 524289, 7, -262136, 524289, 7, -327672, 524289, 7, -393208, 327681, 8, -458744, 589825, 8, -524280, 589825, 8, 458759, 393217, 8, 393223, 589825, 8, 327687, 589825, 8, 262151, 589825, 8, 196615, 589825, 8, 131079, 589825, 8, 65543, 655361, 6, -393209, 589825, 9, -458745, 589825, 8, -524281, 589825, 8, 655367, 720897, 9, 589831, 720897, 8, 524295, 720897, 8, 655366, 589825, 9, 589830, 589825, 8, 524294, 589825, 8, 458758, 589825, 8, 393222, 589825, 8, 327686, 589825, 8, 262150, 589825, 8, 196614, 589825, 8, 131078, 589825, 8, 65542, 589825, 6, 655365, 589825, 9, 589829, 589825, 8, 524293, 589825, 8, 458757, 589825, 8, 393221, 589825, 8, 327685, 589825, 8, 262149, 327681, 7, 196613, 524289, 7, 131077, 524289, 7, 65541, 524289, 6, 720900, 720897, 9, 655364, 393217, 8, 589828, 589825, 8, 524292, 589825, 8, 458756, 589825, 8, 393220, 589825, 8, 327684, 589825, 8, 262148, 655361, 6, 720899, 589825, 9, 655363, 589825, 8, 589827, 589825, 8, 524291, 589825, 8, 458755, 589825, 8, 393219, 589825, 8, 327683, 589825, 8, 262147, 655361, 6, 720898, 589825, 9, 655362, 589825, 8, 589826, 589825, 8, 524290, 589825, 8, 458754, 589825, 8, 393218, 589825, 8, 327682, 589825, 8, 262146, 655361, 6, 720897, 589825, 9, 655361, 589825, 8, 589825, 589825, 8, 524289, 589825, 8, 458753, 589825, 8, 393217, 589825, 8, 327681, 589825, 8, 262145, 655361, 6, 720896, 589825, 9, 655360, 589825, 8, 589824, 589825, 8, 524288, 589825, 8, 458752, 589825, 8, 393216, 589825, 8, 327680, 589825, 8, 262144, 655361, 6, 786431, 589825, 9, 720895, 589825, 8, 655359, 589825, 8, 589823, 589825, 8, 524287, 589825, 8, 458751, 589825, 8, 393215, 589825, 8, 327679, 655361, 6, 786430, 589825, 9, 720894, 589825, 8, 655358, 589825, 8, 589822, 589825, 8, 524286, 589825, 8, 458750, 589825, 8, 393214, 589825, 8, 327678, 655361, 6, 786429, 589825, 9, 720893, 589825, 8, 655357, 589825, 8, 589821, 589825, 8, 524285, 589825, 8, 458749, 589825, 8, 393213, 589825, 8, 327677, 655361, 6, 786428, 524289, 9, 720892, 524289, 7, 655356, 327681, 8, 589820, 589825, 8, 524284, 589825, 8, 458748, 589825, 8, 393212, 589825, 8, 327676, 655361, 6, 655355, 589825, 9, 589819, 589825, 8, 524283, 589825, 8, 458747, 589825, 8, 393211, 589825, 8, 327675, 393217, 7, 262139, 720897, 8, 196603, 720897, 8, 131067, 720897, 8, 65531, 720897, 8, -5, 720897, 8, -65541, 720897, 8, -131077, 720897, 8, -196613, 393217, 8, -262149, 589825, 8, -327685, 589825, 8, -393221, 589825, 8, -458757, 589825, 8, -524293, 655361, 6, 655354, 589825, 9, 589818, 589825, 8, 524282, 589825, 8, 458746, 589825, 8, 393210, 589825, 8, 327674, 589825, 8, 262138, 589825, 8, 196602, 589825, 8, 131066, 589825, 8, 65530, 589825, 8, -6, 589825, 8, -65542, 589825, 8, -131078, 589825, 8, -196614, 589825, 8, -262150, 589825, 8, -327686, 589825, 8, -393222, 589825, 8, -458758, 589825, 8, -524294, 655361, 6, 655353, 589825, 9, 589817, 589825, 8, 524281, 589825, 8, 458745, 589825, 8, 393209, 589825, 8, 327673, 589825, 8, 262137, 589825, 8, 196601, 589825, 8, 131065, 589825, 8, 65529, 589825, 8, -7, 589825, 8, -65543, 589825, 8, -131079, 589825, 8, -196615, 589825, 8, -262151, 589825, 8, -327687, 589825, 8, -393223, 589825, 8, -458759, 589825, 8, -524295, 655361, 6, 655352, 589825, 9, 589816, 589825, 8, 524280, 589825, 8, 458744, 589825, 8, 393208, 589825, 8, 327672, 589825, 8, 262136, 589825, 8, 196600, 589825, 8, 131064, 589825, 8, 65528, 589825, 8, -8, 589825, 8, -65544, 589825, 8, -131080, 589825, 8, -196616, 589825, 8, -262152, 589825, 8, -327688, 589825, 8, -393224, 589825, 8, -458760, 589825, 8, -524296, 655361, 6, 655351, 589825, 9, 589815, 589825, 8, 524279, 589825, 8, 458743, 589825, 8, 393207, 589825, 8, 327671, 589825, 8, 262135, 589825, 8, 196599, 589825, 8, 131063, 589825, 8, 65527, 589825, 8, -9, 589825, 8, -65545, 589825, 8, -131081, 589825, 8, -196617, 589825, 8, -262153, 589825, 8, -327689, 589825, 8, -393225, 589825, 8, -458761, 589825, 8, -524297, 655361, 6, 655350, 589825, 9, 589814, 589825, 8, 524278, 589825, 8, 458742, 589825, 8, 393206, 589825, 8, 327670, 589825, 8, 262134, 589825, 8, 196598, 589825, 8, 131062, 589825, 8, 65526, 589825, 8, -10, 589825, 8, -65546, 589825, 8, -131082, 589825, 8, -196618, 589825, 8, -262154, 589825, 8, -327690, 589825, 8, -393226, 589825, 8, -458762, 589825, 8, -524298, 655361, 6, 655349, 524289, 9, 589813, 524289, 7, 524277, 524289, 7, 458741, 524289, 7, 393205, 524289, 7, 327669, 524289, 7, 262133, 524289, 7, 196597, 524289, 7, 131061, 524289, 7, 65525, 524289, 7, -11, 524289, 7, -65547, 524289, 7, -131083, 524289, 7, -196619, 524289, 7, -262155, 524289, 7, -327691, 524289, 7, -393227, 524289, 7, -458763, 524289, 7, -524299, 524289, 6, 524303, 720897, 9, 458767, 720897, 8, 393231, 720897, 8, 327695, 720897, 8, 262159, 720897, 8, 196623, 720897, 8, 131087, 720897, 8, 65551, 720897, 8, 15, 720897, 8, -65521, 720897, 8, -131057, 720897, 8, -196593, 720897, 8, -262129, 720897, 8, -327665, 720897, 8, -393201, 720897, 8, -458737, 720897, 8, -524273, 720897, 6, 524302, 589825, 9, 458766, 589825, 8, 393230, 589825, 8, 327694, 589825, 8, 262158, 589825, 8, 196622, 589825, 8, 131086, 589825, 8, 65550, 589825, 8, 14, 589825, 8, -65522, 589825, 8, -131058, 589825, 8, -196594, 589825, 8, -262130, 589825, 8, -327666, 589825, 8, -393202, 589825, 8, -458738, 589825, 8, -524274, 655361, 6, 524301, 589825, 9, 458765, 589825, 8, 393229, 589825, 8, 327693, 589825, 8, 262157, 589825, 8, 196621, 589825, 8, 131085, 589825, 8, 65549, 589825, 8, 13, 589825, 8, -65523, 589825, 8, -131059, 589825, 8, -196595, 589825, 8, -262131, 589825, 8, -327667, 589825, 8, -393203, 589825, 8, -458739, 589825, 8, -524275, 655361, 6, 524300, 589825, 9, 458764, 589825, 8, 393228, 589825, 8, 327692, 589825, 8, 262156, 589825, 8, 196620, 589825, 8, 131084, 589825, 8, 65548, 589825, 8, 12, 589825, 8, -65524, 589825, 8, -131060, 589825, 8, -196596, 589825, 8, -262132, 589825, 8, -327668, 589825, 8, -393204, 589825, 8, -458740, 589825, 8, -524276, 393217, 7, 524299, 524289, 9, 458763, 327681, 8, 393227, 589825, 8, 327691, 589825, 8, 262155, 589825, 8, 196619, 589825, 8, 131083, 589825, 8, 65547, 589825, 8, 11, 589825, 8, -65525, 589825, 8, -131061, 589825, 8, -196597, 589825, 8, -262133, 589825, 8, -327669, 589825, 8, -393205, 589825, 8, -458741, 589825, 8, -524277, 589825, 8, -589812, 720897, 8, -655348, 720897, 8, -720884, 720897, 8, -786420, 720897, 8, -851956, 720897, 8, -917492, 720897, 6, -589813, 589825, 8, -655349, 589825, 8, -720885, 589825, 8, -786421, 589825, 8, -851957, 589825, 8, -917493, 655361, 6, -589814, 589825, 8, -655350, 589825, 8, -720886, 589825, 8, -786422, 589825, 8, -851958, 589825, 8, -917494, 655361, 6, -589815, 589825, 8, -655351, 589825, 8, -720887, 589825, 8, -786423, 589825, 8, -851959, 589825, 8, -917495, 655361, 6, -589816, 589825, 8, -655352, 589825, 8, -720888, 589825, 8, -786424, 589825, 8, -851960, 589825, 8, -917496, 655361, 6, -589817, 589825, 8, -655353, 589825, 8, -720889, 589825, 8, -786425, 589825, 8, -851961, 589825, 8, -917497, 655361, 6, -393211, 589825, 9, -393210, 589825, 9, -393212, 589825, 9, -393213, 589825, 9, -393214, 589825, 9, 7, 196609, 5, -65529, 196609, 5, -131065, 131073, 4, -196601, 196609, 5, -262137, 131073, 4)
layer_1/tile_data = PackedInt32Array(131069, 851969, 9, 131070, 917505, 9, 131071, 917505, 9, 65536, 917505, 9, 65537, 983041, 9, 131072, 917505, 11, 196607, 917505, 11, 196606, 917505, 11, 196605, 851969, 11, 131073, 983041, 11)

[node name="Greg" parent="." instance=ExtResource("3_k4axw")]
position = Vector2(104, 7)

[node name="Camera2D" type="Camera2D" parent="Greg"]
limit_left = -80
limit_top = -96
limit_right = 144
limit_bottom = 80

[node name="Decorations" type="Node2D" parent="."]
y_sort_enabled = true

[node name="Chair" type="StaticBody2D" parent="Decorations"]
position = Vector2(16, 14)

[node name="Sprite2D" type="Sprite2D" parent="Decorations/Chair"]
position = Vector2(0, -5)
texture = ExtResource("4_3esa6")
region_enabled = true
region_rect = Rect2(19, 68, 10, 12)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Decorations/Chair"]
position = Vector2(0, -1.5)
shape = SubResource("RectangleShape2D_57vqo")

[node name="Chair2" type="StaticBody2D" parent="Decorations"]
position = Vector2(-31, 14)

[node name="Sprite2D" type="Sprite2D" parent="Decorations/Chair2"]
position = Vector2(0, -5)
texture = ExtResource("4_3esa6")
region_enabled = true
region_rect = Rect2(19, 68, 10, 12)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Decorations/Chair2"]
position = Vector2(0, -1.5)
shape = SubResource("RectangleShape2D_57vqo")

[node name="Mafia" parent="Decorations" instance=ExtResource("5_0srwq")]
position = Vector2(-17, 13)

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="Decorations/Mafia"]
position = Vector2(0, -8)
sprite_frames = ExtResource("6_xapwm")
animation = &"walk_down"

[node name="Mafia2" parent="Decorations" instance=ExtResource("5_0srwq")]
position = Vector2(1, 13)

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="Decorations/Mafia2"]
position = Vector2(0, -8)
sprite_frames = ExtResource("7_fxb1w")
animation = &"walk_down"

[node name="RoomGate" parent="." node_paths=PackedStringArray("player") instance=ExtResource("5_ce38q")]
position = Vector2(104, 22)
destination = &"town"
gate_id = &"mafiahouse-town"
player = NodePath("../Greg")
extents = Vector2i(6, 8)
spawnpoint = Vector2i(0, -15)

[node name="Areas" type="Node2D" parent="."]

[node name="DiscoveryArea" type="Area2D" parent="Areas"]
position = Vector2(-8, 30)
collision_layer = 0
collision_mask = 2
monitorable = false
script = ExtResource("9_fieed")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Areas/DiscoveryArea"]
position = Vector2(0.5, -8.5)
shape = SubResource("RectangleShape2D_girn8")

[connection signal="body_entered" from="Areas/DiscoveryArea" to="Areas/DiscoveryArea" method="_area_entered" unbinds=1]
